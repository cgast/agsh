services:
  agsh:
    build:
      context: ..
      dockerfile: docker/Dockerfile
    volumes:
      - ./workspace:/workspace
      - agsh-data:/data
    environment:
      - GITHUB_TOKEN=${GITHUB_TOKEN}
      - AGSH_MODE=agent
    stdin_open: true
    tty: true
    networks:
      - agsh-net

volumes:
  agsh-data:

networks:
  agsh-net:
    driver: bridge
